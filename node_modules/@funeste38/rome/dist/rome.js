/**
 * Creates a route registry from a route table.
 */
export function makeRegistry(routes) {
    const routeMap = new Map();
    for (const route of routes) {
        if (route.name) {
            routeMap.set(route.name, route);
        }
    }
    return {
        findRoute(name) {
            return routeMap.get(name);
        },
        url(name, params) {
            const route = routeMap.get(name);
            if (!route) {
                throw new Error(`Route "${name}" not found`);
            }
            let path = route.path;
            if (params) {
                for (const [key, value] of Object.entries(params)) {
                    path = path.replace(`:${key}`, String(value));
                }
            }
            return path;
        },
        getRoutes() {
            return routes;
        }
    };
}
