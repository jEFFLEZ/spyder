import { BatWings } from './batWings';
export type RequestClass = 'short' | 'normal' | 'slow' | 'timeout';
export type OriginGuess = 'local' | 'remote' | 'cached' | 'error';
export interface EchoRadarOptions {
    baselineMs?: number;
    alpha?: number;
    maxAttempts?: number;
    noiseFilter?: NoiseFilter;
}
export interface NoiseFilter {
    ignore(result: any, error?: any): boolean;
}
interface InFlight {
    id: string;
    key: string;
    startedAt: number;
    attempts: number;
}
export declare class EchoRadar {
    baselineMs: number;
    alpha: number;
    maxAttempts: number;
    noiseFilter: NoiseFilter;
    private inFlight;
    private counter;
    constructor(opts?: EchoRadarOptions);
    start(key: string): string;
    stop(id: string): {
        rtt: number;
        cls: RequestClass;
        attempts: number;
    } | null;
    classify(rtt: number): RequestClass;
    getTimeoutThreshold(): number;
    listInFlight(): InFlight[];
    markRetry(id: string): InFlight | null;
}
export declare function wrapEcho<TArgs extends any[], TResult>(key: string, radar: EchoRadar, fn: (...args: TArgs) => Promise<TResult>, wings?: BatWings, requestType?: string): (...args: TArgs) => Promise<{
    result: TResult | null;
    rtt: number;
    cls: RequestClass;
    attempts: number;
    error?: unknown;
    isNoise: boolean;
    signalStrength: number;
    originGuess: OriginGuess;
    dropped?: boolean;
}>;
export { BatWings };
export { Bat } from './bat';
export { Ears } from './ears';
export { Wings } from './wings';
export { Fangs } from './fangs';
export { Inversion } from './inversion';
export { Heart } from './heart';
export { Memory } from './memory';
export { Hormones } from './hormones';
export { Immune } from './immune';
export { Sleep } from './sleep';
export { Instinct } from './instinct';
export * from './types';
export * from './profiles';
