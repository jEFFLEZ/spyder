export type RequestType = 'chat' | 'heavy' | 'critical' | 'echo' | 'file' | 'system';
export type ChannelKind = 'local' | 'proxy' | 'remote' | 'mock';
export interface ChannelStats {
    rttAvg: number;
    errors: number;
    inFlight: number;
}
export interface Channel {
    id: string;
    kind: ChannelKind;
    endpoint: string;
    proxy?: string;
    weight: number;
    stats: ChannelStats;
}
export interface FangsOptions {
    maxConcurrency?: number;
    channels: Channel[];
}
export declare class Fangs {
    private channels;
    private maxConcurrency;
    private semaphore;
    private rr;
    constructor(opts: FangsOptions);
    chooseChannel(type: RequestType): Channel;
    trackStart(channelId: string): void;
    trackEnd(channelId: string, rtt: number, ok: boolean): void;
    run<T>(type: RequestType, fn: (channel: Channel) => Promise<T>): Promise<{
        channel: Channel;
        result: T;
    }>;
}
