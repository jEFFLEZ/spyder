<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>QFLUSH Telemetry</title>
  <style>body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial} pre{white-space:pre-wrap;}</style>
</head>
<body>
  <h1>QFLUSH Telemetry Viewer</h1>
  <div id="status">Connecting...</div>
  <pre id="log"></pre>
  <script>
    const log = document.getElementById('log');
    const status = document.getElementById('status');
    const evt = new EventSource('http://localhost:4500/copilot/stream');
    evt.onopen = ()=> status.textContent = 'Connected';
    evt.onmessage = (e)=> { try { const d = JSON.parse(e.data); log.textContent = JSON.stringify(d, null, 2) + '\n' + log.textContent; } catch(e) { log.textContent = e.data + '\n' + log.textContent; } };
    evt.onerror = ()=> status.textContent = 'Disconnected';
  </script>
</body>
</html>